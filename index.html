<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="icon" href="https://warthunder.com/i/favicons/mstile-144x144.png" />
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WT Tech-Tree Maker</title>
		<link rel="stylesheet" href="style.css" />
	</head>

	<body>
		<label id="techtreenamelabel" for="techtreename"><h3>Tech tree name:</h3></label>
		<input type="text" id="techtreename" name="techtreename" />
		<br /><br />

		<label id="techtreemaindesclabel" for="techtreemaindesc"><h3>Tech tree description:</h3></label>
		<textarea id="techtreemaindesc" name="techtreemaindesc">Here you can write description of your tech tree as a whole.</textarea>
		<br /><br />
		<nav>
			<div id="navAdd" style="background-color: #091f93">Add vehicle</div>
			<div id="navEdit" style="background-color: #115cb4">Edit vehicle</div>
			<div id="navDel" style="background-color: #1c8612">Delete vehicle</div>
			<div id="navOrder" style="background-color: #bd8c47">Vehicle ordering</div>
			<div id="navBackup" style="background-color: #c4713a">Backup</div>
			<div id="navExport" style="background-color: #b35050">Export tree</div>
		</nav>

		<div id="addModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Add new vehicle</h2>
				</div>
				<div class="modal-body">
					<form id="newForm">
						<div id="nameInputDiv">
							<label for="vehiclename">Name:</label>
							<input type="text" name="vehiclename" id="vehiclename" maxlength="50" />
							<div class="tooltip">
								❓
								<span class="tooltiptext">Name of the vehicle.<br /><br />Required.</span>
							</div>
							<br />
						</div>
						<div class="flexWrapper">
							<span class="flexTitle">Vehicle data</span>
							<div class="inputModalFlex">
								<div class="inputModalFlexChild">
									<label for="vehicletype">Type:</label>
									<select name="vehicletype" id="vehicletype">
										<option value="researchable">Researchable</option>
										<option value="premium">Premium</option>
										<option value="event">Event</option>
										<option value="squadron">Squadron</option>
									</select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Type of the vehicle. Non-researchable vehicles will be automatically placed on premium sidebar of the tech-tree.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclebr">Battle rating:</label>
									<input type="number" name="vehiclebr" id="vehiclebr" min="1" max="99" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Battle rating of the vehicle. It can be any number, I ommited requirement for these to end in .0 / .3 / .7<br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclethumbnail">Thumbnail:</label>
									<input type="text" name="vehiclethumbnail" id="vehiclethumbnail" />
									<div class="tooltip">
										❓
										<span class="tooltiptext">Small image that displays on the tech tree.<br /><br />Optional.</span>
									</div>
								</div>
							</div>
						</div>
						<div class="flexWrapper">
							<span class="flexTitle">Tech-tree placement</span>
							<div class="inputModalFlex">
								<div class="inputModalFlexChild">
									<label for="vehiclerank">Rank:</label>
									<input type="number" name="vehiclerank" id="vehiclerank" min="1" max="9" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Rank of the vehicle. <br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclebranch">Branch:</label>
									<input type="number" name="vehiclebranch" id="vehiclebranch" min="1" max="9" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Defines which branch the vehicle belongs to (left to right vertical lines of vehicles) <br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehicleconnection">Connected:</label>
									<select name="vehicleconnection" id="vehicleconnection">
										<option value="yes">Yes</option>
										<option value="no">No</option>
										<option value="folder">Folder</option>
									</select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Defines relation to the previous vehicle in the branch. Folder only applies as long as there is vehicle above in the rank.
											Connection only when there is one in a branch.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclefollow">Follow:</label>
									<select id="vehiclefollow" name="vehiclefollow"></select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>This setting allows you to override ordering of vehicles by BR, and instead attach this vehicle after another vehicle.<br /><br />
											In order for this to work, both vehicles need to be in the same rank and branch.</span
										>
									</div>
								</div>
							</div>
						</div>
						<label for="vehicleimagelist">Images:</label>
						<div class="tooltip">
							❓
							<span class="tooltiptext"
								>Images to display after clicking on the vehicle.<br /><br />
								Optional</span
							>
						</div>
						<br />
						<button id="vehicleimagelistadd">Add image <b style="color: green">+</b></button>
						<ol id="vehicleimagelist"></ol>

						<label for="vehicledescription">Description:</label>
						<div class="tooltip">
							❓
							<span class="tooltiptext"
								>Description of the vehicle <br /><br />
								Optional - although would be nice to have some ;)</span
							>
						</div>
						<br />
						<textarea name="vehicledescription" id="vehicledescription" placeholder="This vehicle is awesome!"></textarea>
					</form>
					<button id="addButton">Add vehicle</button>
				</div>
			</div>
		</div>

		<div id="editModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Edit vehicle</h2>
				</div>
				<div class="modal-body">
					<div id="editSelectDiv">
						Select vehicle to edit:
						<select id="editionSelect"></select>
					</div>

					<form id="editForm">
						<div id="nameInputDiv">
							<label for="vehiclenameedit">Name:</label>
							<input type="text" name="vehiclenameedit" id="vehiclenameedit" maxlength="50" />
							<div class="tooltip">
								❓
								<span class="tooltiptext">Name of the vehicle.<br /><br />Required.</span>
							</div>
						</div>
						<div class="flexWrapper">
							<span class="flexTitle">Vehicle data</span>
							<div class="inputModalFlex">
								<div class="inputModalFlexChild">
									<label for="vehicletypeedit">Type:</label>
									<select name="vehicletypeedit" id="vehicletypeedit">
										<option value="researchable">Researchable</option>
										<option value="premium">Premium</option>
										<option value="event">Event</option>
										<option value="squadron">Squadron</option>
									</select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Type of the vehicle. Non-researchable vehicles will be automatically placed on premium sidebar of the tech-tree.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclebredit">Battle rating:</label>
									<input type="number" name="vehiclebredit" id="vehiclebredit" min="1" max="99" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Battle rating of the vehicle. It can be any number, I ommited requirement for these to end in .0 / .3 / .7<br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclethumbnailedit">Thumbnail:</label>
									<input type="text" name="vehiclethumbnailedit" id="vehiclethumbnailedit" />
									<div class="tooltip">
										❓
										<span class="tooltiptext">Small image that displays on the tech tree.<br /><br />Optional.</span>
									</div>
								</div>
							</div>
						</div>
						<div class="flexWrapper">
							<span class="flexTitle">Tech-tree placement</span>
							<div class="inputModalFlex">
								<div class="inputModalFlexChild">
									<label for="vehiclerankedit">Rank:</label>
									<input type="number" name="vehiclerankedit" id="vehiclerankedit" min="1" max="9" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Rank of the vehicle. <br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclebranchedit">Branch:</label>
									<input type="number" name="vehiclebranchedit" id="vehiclebranchedit" min="1" max="9" />
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Defines which branch the vehicle belongs to (left to right vertical lines of vehicles) <br /><br />
											Optional - if left empty, will be defaulted to 0.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehicleconnectionedit">Connected:</label>
									<select name="vehicleconnectionedit" id="vehicleconnectionedit">
										<option value="yes">Yes</option>
										<option value="no">No</option>
										<option value="folder">Folder</option>
									</select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>Defines relation to the previous vehicle in the branch. Folder only applies as long as there is vehicle above in the rank.
											Connection only when there is one in a branch.</span
										>
									</div>
								</div>
								<div class="inputModalFlexChild">
									<label for="vehiclefollowedit">Follow:</label>
									<select id="vehiclefollowedit" name="vehiclefollowedit"></select>
									<div class="tooltip">
										❓
										<span class="tooltiptext"
											>This setting allows you to override ordering of vehicles by BR, and instead attach this vehicle after another vehicle.<br /><br />
											In order for this to work, both vehicles need to be in the same rank and branch.</span
										>
									</div>
								</div>
							</div>
						</div>

						<label for="vehicleimagelistedit">Images:</label>
						<div class="tooltip">
							❓
							<span class="tooltiptext"
								>Images to display after clicking on the vehicle.<br /><br />
								Optional</span
							>
						</div>
						<br />
						<button id="vehicleimagelisteditadd">Add image <b style="color: green">+</b></button>
						<ol id="vehicleimagelistedit"></ol>
						<br />

						<label for="vehicledescriptionedit">Description:</label>
						<div class="tooltip">
							❓
							<span class="tooltiptext"
								>Description of the vehicle <br /><br />
								Optional - although would be nice to have some ;)</span
							>
						</div>
						<textarea name="vehicledescriptionedit" id="vehicledescriptionedit" rows="10" cols="50" placeholder="This vehicle is awesome!"></textarea>
					</form>
					<button id="editButton">Apply changes to the vehicle</button>
				</div>
			</div>
		</div>

		<div id="delModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Delete vehicles</h2>
				</div>
				<div class="modal-body">
					<select id="deleteVehicleSelect"></select>
					<button id="deleteVehicleButton">Delete vehicle</button>
					<div id="vehicleDeleteDisplay"></div>
					<button id="deleteAllButton">CLEAR TECH TREE</button>
				</div>
			</div>
		</div>

		<div id="orderModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Vehicle ordering</h2>
				</div>
				<div class="modal-body">
					<p>
						There you can remove custom ordering of vehicles that overrides their ordering by BR. To add new connections, edit individual vehicle and
						pick option in "follow" field.
					</p>
					<p id="followLoopWarning"><b>WARNING!</b> There is a loop of vehicles following eachother!</p>
					<p id="multipleFollowWarning"></p>
					<table>
						<tbody id="vehicleOrderList"></tbody>
					</table>
				</div>
			</div>
		</div>

		<div id="backupModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Download & Upload backup</h2>
				</div>
				<div class="modal-body">
					<button id="backupDownload">Download Tech Tree Data</button>
					Upload Tech Tree Data: <input id="backupUpload" type="file" accept=".json" />
				</div>
			</div>
		</div>

		<div id="exportModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2>Export Tech Tree</h2>
				</div>
				<div class="modal-body">
					<button id="exportTechTreeButton">Download the Tech Tree</button>
					<a href="https://neocities.org/" target="_blank">Neocities</a> is a great place where you can host your tech tree for free ;)
				</div>
			</div>
		</div>

		<div id="techtree"></div>

		<div id="vehicleDisplayModal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<span class="close">&times;</span>
					<h2 id="modal_title"></h2>
				</div>
				<div class="modal-gallery">
					<div class="galleria" id="galleria"></div>
				</div>
				<div class="modal-body" id="modalDesc"></div>
			</div>
		</div>
		<script
			src="https://code.jquery.com/jquery-3.5.1.js"
			integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
			crossorigin="anonymous"
		></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/galleria/1.6.1/galleria.min.js"></script>
		<script src="https://cdn.ckeditor.com/4.16.1/standard/ckeditor.js"></script>
		<script src="template.js"></script>
		<script src="script.js"></script>
	</body>
</html>

<!--
<a href="file:///C:/Users/zanju/Desktop/lol/tech_tree/index.html">tree</a>
<a href="https://www.bcnp-wot.fr/nation/fr/game.html">WOT tree</a>
<a href="https://www.youtube.com/watch?v=WiPLepeLbz0">sphinx</a>
<a
	href="https://forum.warthunder.com/index.php?/topic/492051-need-more-aa-in-tech-tree-non-sam/page/2/"
	>forum</a
>
https://docs.google.com/spreadsheets/d/1w2Vnvn-rMRzkqlo8gQYffeUiISRG8ZvWK8Vu89mzXRE/edit#gid=871708433
https://www.quora.com/Did-Free-France-produce-any-equipment-of-their-own-in-exile
-->
